<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<f:metadata>
	<f:viewParam name="codigo" value="#{produtoBean2.codigoProduto}"/>
	<f:viewAction action="#{produtoBean2.listar}" />
</f:metadata>

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Sistema de Gerenciamento de Drogaria</title>
</h:head>
<h:body>

	<h:form id="form">
		<p:panel header="Produtos - Edição">
			<h:panelGrid columns="2" id="painel">
				<p:outputLabel for="desc" value="Descrição: " />
				<p:inputText id="desc" size="30" maxlength="50" required="true"
					requiredMessage="O campo Descrição é obrigatório."
					value="#{produtoBean2.produto.descricao}">
				</p:inputText>

				<p:outputLabel for="qtd" value="Quantidade: " />
				<p:inputText id="qtd" maxlength="5" size="10" required="true"
					requiredMessage="O campo Quantidade é obrigatório."
					value="#{produtoBean2.produto.quantidade}"
					validatorMessage="Informe uma quantidade maior que 0.">
					<f:validateLongRange minimum="0" />
				</p:inputText>

				<p:outputLabel for="preco" value="Preço: " />
				<p:inputText id="preco" maxlength="7" size="10" required="true"
					requiredMessage="O campo Preço é obrigatório."
					value="#{produtoBean2.produto.preco}"
					validatorMessage="Informe um valor maior que 0.">
					<f:validateDoubleRange minimum="0.1" />
					<f:convertNumber locale="pt_BR" minFractionDigits="2" />
				</p:inputText>

				<p:outputLabel for="fab" value="Fabricante: " />
				<p:selectOneMenu id="fab" filter="true"
					converter="omnifaces.SelectItemsConverter"
					value="#{produtoBean2.produto.fabricante}" required="true"
					requiredMessage="O campo Fabricante é obrigatório.">

					<f:selectItem itemLabel="Selecione um fabricante"
						noSelectionOption="true" />
					<!-- opção apenas estética-->
					<f:selectItems value="#{produtoBean2.listFabricantes}"
						var="cursorFab" itemLabel="#{cursorFab.descricao}"
						itemValue="#{cursorFab}" />
				</p:selectOneMenu>

			</h:panelGrid>
			<h:panelGrid columns="2">
				<p:commandButton value="Editar"		/>
				<p:commandButton value="Fechar" oncomplete="PF('dialogo').hide();" />
			</h:panelGrid>
		</p:panel>
	</h:form>
</h:body>
</html>
